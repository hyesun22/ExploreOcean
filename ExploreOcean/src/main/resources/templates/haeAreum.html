<!DOCTYPE html>
<html lang="kr" xmlns:th="http://www.thymeleaf.org"> 
<head>
	<title>haeAreum</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>
	* {
		margin: 0;
		padding: 0;
	}
	.map {
		height:1000px;
		width:100%;
	}
	.log {
	  text-decoration: none;
	}
	.color {
		height: 50px;
		background-color: rgb(76, 146, 253);
		line-height: 50px;
	}
	.menulist{
		overflow: hidden;
  		list-style-type: none;
	}	
	.menulist .left {
		float:right;
		padding: 0 20px;
		font-size: 22px;
        font-weight: bold;
	}		
	.menulist .right {
		float: left;
		padding: 0 20px;
		font-size: 22px;
        font-weight: bold;
        color:white;
	}
	a {
		text-decoration:none;
	}
</style>
</head>
<script src="https://cdn.jsdelivr.net/gh/openlayers/openlayers.github.io@master/en/v6.15.1/build/ol.js"></script>
<body>
<div id="map" class="map">
	<div class="color">
		<!-- <div class="logo">
			<a href="#"></a>
		</div> -->

		<ul class="menulist">
		<li class=right>미측구역관리 시스템</li>
		<li class=left>로그아웃</li>
		<li class=left><a href="#">도움말</a></li>
		<li class=left>홍길동 님</li>
		</ul>
	</div>
</div>	
<script type="text/javascript">
	var baseMapLayer = new ol.layer.Tile({
		title : "OSM",
		lonLatLayer : true,
		visible : true,
		source : new ol.source.OSM()
	});
	
	var baseMapUrl = 'http://10.2.10.49:50080/tiles/{mapType}/{z}/{x}/{y}.png';
	
	var testMapLayer = new ol.layer.Tile({
		visible: true,
		role: 'base_map_layer',
		source: new ol.source.XYZ({ 
		tileUrlFunction: baseMapTileUrlFunction, 
			crossOrigin: 'anonymous' 
		})
	});
	
	map = new ol.Map({
		target: 'map',
		layers: [new ol.layer.Group({	
			title: 'base_layer_group',
			openInLayerSwitcher: true,
			displayInLayerSwitcher: true,
			layers: [baseMapLayer, testMapLayer]
		})],
		view: new ol.View({
			projection: 'EPSG:3857',
			center: ol.proj.transform([128.555209, 37.901446], 'EPSG:4326', 'EPSG:3857'),
			zoom: 6,
			minZoom: 1,
			extent: ol.proj.transformExtent([0, -60, 360, 60], 'EPSG:4326', 'EPSG:3857')
		}),
		controls: [],
		interactions: ol.interaction.defaults({altShiftDragRotate:false, pinchRotate:false})
	});
	
	function baseMapTileUrlFunction(tileCoord, pixelRatio, projection) {

		let x = tileCoord[1];
		let y = tileCoord[2];
		let z = tileCoord[0];

		if (z < 5 || z > 16) {
			return false;
		}

		z = "L" + z.toString().padStart(2, '0');

		return baseMapUrl.replace(/{mapType}/, 'DL_USR3857').replace(/{z}/, z).replace(/{x}/, x).replace(/{y}/, y);
	}
</script>
</body>
</html>